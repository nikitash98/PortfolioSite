<html>
    <head>

        <link rel="stylesheet" href="https://use.typekit.net/jja2din.css">

        <link rel= "stylesheet" type= "text/css" href= "../static/simple.css">
        <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>
        <script src="../js/about.js"></script>
        <script src="https://cdn.babylonjs.com/viewer/babylon.viewer.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r126/three.min.js" integrity="sha512-n8IpKWzDnBOcBhRlHirMZOUvEq2bLRMuJGjuVqbzUJwtTsgwOgK5aS0c1JA647XWYfqvXve8k3PtZdzpipFjgg==" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
        <script src="https://unpkg.com/three@0.126.0/examples/js/controls/OrbitControls.js"></script>

</head>
<div class="ui text compact fixed top menu">
    <a href = "../index.html" class="item" style = "visibility: visible;"> NS</a>
    <div class = "ui right menu">
        <a href = "/templates/work.html"  class="item">PROJECTS</a>
        <a  href = "/templates/about.html" class="item active">ABOUT</a>
        <a href = "/templates/contact.html" class="item">CONTACT</a>
    </div>

</div>

<script type="module">

    //import * as THREE from '../build/three.module.js';

    //import { OrbitControls } from './jsm/controls/OrbitControls.js';
    //import { KMZLoader } from './jsm/loaders/KMZLoader.js';
    //import { GLTFLoader } from './jsm/loaders/GLTFLoader.js';

    let camera, scene, renderer, controls;

    init();

    function init() {

        scene = new THREE.Scene();
        //scene.background = new THREE.Color( 0xFFFFFF );

        const light = new THREE.PointLight( 0xFFFFFF, 1, 100 );
        const material = new THREE.MeshPhongMaterial( { color: 0xffffff } );

        light.position.set( 0, 20, 10);
        light.intensity = 3;
        const light2 = new THREE.AmbientLight( 0x404040 ); // soft white light
        light2.intensity = 0;
        scene.add( light2 );

        scene.add( light );
        let container = document.getElementById('canvasbox');

        camera = new THREE.PerspectiveCamera( 20, $(container).width() / $(container).height(), 1, 500 );

        camera.position.y = 2;
        camera.position.z = 20;

        scene.add( camera );

        const grid = new THREE.GridHelper( 50, 50, 0xffffff, 0x555555 );
        //scene.add( grid );


        renderer = new THREE.WebGLRenderer( { antialias: true , alpha: true} );
        renderer.setPixelRatio( window.devicePixelRatio );
        renderer.setSize( $(container).width(), $(container).height() );

        container.appendChild( renderer.domElement );

        const loader = new THREE.GLTFLoader();
        loader.load( '../static/3d/prof.glb', function ( kmz ) {

            kmz.scene.position.y = 0.5;
            kmz.scene.scale.set(13, 13, 13);
            scene.add( kmz.scene );
            kmz.scene.traverse((o) => {
  if (o.isMesh) o.material = material;
});
            render();

        } );

        controls = new THREE.OrbitControls( camera, renderer.domElement );
        controls.addEventListener( 'change', render );
        controls.enabled = false;
        controls.update();

        window.addEventListener( 'resize', onWindowResize );
        window.addEventListener('mousemove', mouseMove)

    }
    function mouseMove(e) {
        let part2 = e.clientY/window.innerHeight;
        let part = e.clientX/window.innerWidth;
        camera.position.x = 20 * -part + 10;
        camera.position.y = 10 * part2 + -2;

        controls.update()

        render();
    }
    function onWindowResize() {
        let container = document.getElementById('canvasbox');

        camera.aspect = window.$(container).width() / $(container).height();
        camera.updateProjectionMatrix();

        renderer.setSize( $(container).width(), $(container).height() );

        render();

    }

    function render() {

        renderer.render( scene, camera );

    }

</script>

<div class="ui  two column centered grid container">

    <div class = "row">

    <div class="nine wide column">
        <div id = "canvasbox" style = "height: 100%;" >
            <canvas></canvas>
    </div>
    </div>
    <div class = "seven wide column">
        <div class = "projectcaption">
            <div class = "head">NIKITA SHTARKMAN</div>
            My name is Nikita and I am a 3D artist, designer, and technologist. 
            I am currently based in Baltimore and work at Under Armour as a 3D analyst.
            You are now viewing a scan of my face.
            
        </div>
        <br>
        <div class = "projectcaption" style = "margin-top: 0px !important;">         My Personal Introduction for my SVA application is here:
            <a href = "/templates/intro.html">LINK</a>
        </div>
    
    </div>
    </div>




    </div>


</div>



</div>
</html>